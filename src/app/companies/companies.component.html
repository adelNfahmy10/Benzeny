@if(role() == "Admin" || role() == "CompanyOwner"){
    <section>
        <div class="grid grid-cols-1 md:grid-cols-2 mb-4 gap-4">
            <!-- Company Data -->
            <div class="relative bg-white dark:bg-transparent shadow text-mainColor h-full flex justify-between items-center rounded-2xl py-2 px-5">
                <div class="text-center w-full position-relative z-10">
                    <img [src]="companyLogo" class="w-[50px] mx-auto" alt="logo">
                    <p class="text-[#96a0b5] text-lg">{{ companyName() }}</p>
                        <form class="flex items-center justify-center gap-3 z-2">
                        <p class="text-">{{message1}}</p>
                        <svg ngxClipboard [cbContent]="message1" (cbOnSuccess)="showMessage('Copied successfully.')"  width="15" height="15" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="cursor-pointer"><path _ngcontent-ng-c2829211677="" d="M11.875 15.8333H3.95833C2.9089 15.8321 1.90282 15.4146 1.16076 14.6726C0.418698 13.9305 0.00125705 12.9244 0 11.875L0 3.95833C0.00125705 2.9089 0.418698 1.90282 1.16076 1.16076C1.90282 0.418698 2.9089 0.00125705 3.95833 0L11.875 0C12.9244 0.00125705 13.9305 0.418698 14.6726 1.16076C15.4146 1.90282 15.8321 2.9089 15.8333 3.95833V11.875C15.8321 12.9244 15.4146 13.9305 14.6726 14.6726C13.9305 15.4146 12.9244 15.8321 11.875 15.8333ZM19 15.0417V4.75C19 4.54004 18.9166 4.33867 18.7681 4.19021C18.6197 4.04174 18.4183 3.95833 18.2083 3.95833C17.9984 3.95833 17.797 4.04174 17.6485 4.19021C17.5001 4.33867 17.4167 4.54004 17.4167 4.75V15.0417C17.4167 15.6716 17.1664 16.2756 16.721 16.721C16.2756 17.1664 15.6716 17.4167 15.0417 17.4167H4.75C4.54004 17.4167 4.33867 17.5001 4.19021 17.6485C4.04174 17.797 3.95833 17.9984 3.95833 18.2083C3.95833 18.4183 4.04174 18.6197 4.19021 18.7681C4.33867 18.9166 4.54004 19 4.75 19H15.0417C16.0911 18.9987 17.0972 18.5813 17.8392 17.8392C18.5813 17.0972 18.9987 16.0911 19 15.0417Z" fill="#AEAEAE"></path></svg>
                    </form>
                </div>
                <img loading="lazy" src="assets/images/company-image/corner-img.png" class="absolute bottom-0 right-0 w-[130px] rounded-2xl h-full object-cover rounded-br-[10px] sepia-[3.5] z-1" alt="" />
            </div>

            <!-- Total Balance -->
            <div class="relative bg-white dark:bg-transparent shadow text-mainColor h-full flex justify-between items-center rounded-2xl py-2 px-5 cursor-pointer" routerLink="/balance">
                <div class="flex flex-col">
                    <p class="text-[#96a0b5] text-lg">Total Balance</p>
                    <h3 class="font-medium dark:text-[#222] text-[#222] text-[20px] flex items-center">
                        <svg _ngcontent-ng-c161484493="" fill="#222" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 1124.14 1256.39" class="w-6"><path _ngcontent-ng-c161484493="" d="M699.62,1113.02h0c-20.06,44.48-33.32,92.75-38.4,143.37l424.51-90.24c20.06-44.47,33.31-92.75,38.4-143.37l-424.51,90.24Z"></path><path _ngcontent-ng-c161484493="" d="M1085.73,895.8c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.33v-135.2l292.27-62.11c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.27V66.13c-50.67,28.45-95.67,66.32-132.25,110.99v403.35l-132.25,28.11V0c-50.67,28.44-95.67,66.32-132.25,110.99v525.69l-295.91,62.88c-20.06,44.47-33.33,92.75-38.42,143.37l334.33-71.05v170.26l-358.3,76.14c-20.06,44.47-33.32,92.75-38.4,143.37l375.04-79.7c30.53-6.35,56.77-24.4,73.83-49.24l68.78-101.97v-.02c7.14-10.55,11.3-23.27,11.3-36.97v-149.98l132.25-28.11v270.4l424.53-90.28Z"></path></svg>
                        {{ 6350 }}
                    </h3>
                </div>
                <div class="p-1 rounded-lg mt-4">
                    <i class="fa-solid fa-money-bill-1-wave text-[25px]"></i>
                </div>
                <img loading="lazy" src="assets/images/company-image/corner-img.png" class="absolute bottom-0 right-0 w-[130px] rounded-2xl h-full object-cover rounded-br-[10px] sepia-[3.5]" alt="" />
            </div>

            <!-- Total Branches -->
            <div class="relative bg-white dark:bg-transparent shadow text-mainColor h-full flex justify-between items-center rounded-2xl py-2 px-5 cursor-pointer" routerLink="/branches">
                <div class="flex flex-col">
                    <p class="text-[#96a0b5] text-lg">Total Branches</p>
                    <h3 class="font-medium dark:text-[#fff] text-[#222] text-[20px]">{{ totalBranches() }} <sub class="text-dark text-[14px]">0 Active - 0 DeActive</sub> </h3>
                </div>
                <div class="p-1 rounded-lg mt-4">
                    <i class="fa-solid fa-code-branch transform rotate-180 text-[22px] shrink-0 text-[#mainColor]"></i>
                </div>
                <img loading="lazy" src="assets/images/company-image/corner-img.png" class="absolute bottom-0 right-0 w-[130px] rounded-2xl h-full object-cover rounded-br-[10px] sepia-[3.5]" alt="" />
            </div>

            <!-- Total Users -->
            <div class="relative bg-white dark:bg-transparent shadow text-mainColor h-full flex justify-between items-center rounded-2xl py-2 px-5 cursor-pointer" routerLink="/users-company/">
                <div class="flex flex-col">
                    <p class="text-[#96a0b5] text-lg">Total Users</p>
                    <h3 class="font-medium dark:text-[#fff] text-[#222] text-[20px]">{{ totalUsers() || 0 }}</h3>
                </div>
                <div class="p-1 rounded-lg mt-4">
                    <icon-users class="h-7 w-7 text-mainColor" />
                </div>
                <img loading="lazy" src="assets/images/company-image/corner-img.png" class="absolute bottom-0 right-0 w-[130px] rounded-2xl h-full object-cover rounded-br-[10px] sepia-[3.5]" alt="" />
            </div>

            <!-- Branches Table -->
            <div class="table-responsive bg-white p-4 rounded-2xl">
                <table>
                    <thead >
                        <tr>
                            <th>Company</th>
                            <th>Region</th>
                            <th>City</th>
                            <th>Address</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (branch of allBranches(); track $index) {
                            <tr>
                                <td class="whitespace-nowrap">{{ branch.companyName }}</td>
                                <td class="whitespace-nowrap">{{ branch.regionTitle }}</td>
                                <td>{{ branch.cityTitle }}</td>
                                <td>{{ branch.address }}</td>
                            </tr>
                        }
                    </tbody>
                </table>
                <div class="flex gap-3 mt-3">
                    <app-btn-view routerLink="/branches"></app-btn-view>
                    <app-btn-add btnText="Add Branch" (click)="modal5.open()"></app-btn-add>
                </div>
            </div>

            <!-- Users Table -->
            <div class="table-responsive bg-white p-4 rounded-2xl">
                <table>
                    <thead>
                        <tr>
                            <th class="w-[90%]">Name</th>
                            <th class="text-center">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for(user of allUsers(); track $index) {
                            <tr>
                                <td>{{ user.fullName }}</td>
                                <td class="text-center">
                                    <span (click)="switchActiveUser(user.id)" class="border px-4 rounded-lg cursor-pointer" [ngClass]="{ 'border-green-400 text-green-400': user.isActive, 'border-red-400 text-red-400': !user.isActive }" >
                                        {{ user.isActive == true ? 'Active' : 'DeActive' }}
                                    </span>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                <div class="flex gap-3 mt-3">
                    <app-btn-view routerLink="/users-company/"></app-btn-view>
                    <app-btn-add btnText="Add User" (click)="modal6.open()"></app-btn-add>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal Add Branch -->
    <ngx-custom-modal #modal5 customClass="modal-top extra-large-modal">
        <ng-template #modalHeader>
            <div class="flex items-center gap-2">
                <svg width="55" height="55" viewBox="0 0 55 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_865_10413)">
                    <mask id="mask0_865_10413" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="55" height="55">
                    <path d="M54.9573 0H0.0438232V55H54.9573V0Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask0_865_10413)">
                    <path d="M2.431e-05 45.8326C-0.0115107 50.8882 4.08341 55 9.12997 55C14.1765 55 18.2922 50.8882 18.3038 45.8326C18.3141 41.5694 15.4004 37.9764 11.4612 36.9563V36.6651C11.4704 32.8745 14.5583 29.7898 18.3418 29.7898H36.6467C39.2213 29.7898 41.5998 28.9326 43.5158 27.4931L43.4939 36.9551C39.5489 37.9752 36.619 41.5683 36.6086 45.8314C36.5971 50.8871 40.692 54.9988 45.7386 54.9988C50.7851 54.9988 54.9008 50.8871 54.9124 45.8314C54.9227 41.5683 52.009 37.9752 48.0698 36.9551L48.1148 18.0414C52.0598 17.0213 54.9896 13.4282 55 9.16512C55.0116 4.10945 50.9166 -0.00231934 45.8701 -0.00231934C40.8235 -0.00231934 36.7078 4.10945 36.6963 9.16512C36.6859 13.4282 39.5997 17.0213 43.5389 18.0414V18.3326C43.5296 22.1231 40.4417 25.2078 36.6582 25.2078H18.3534C12.0449 25.2078 6.90141 30.3478 6.88642 36.6663V36.9574C2.94029 37.9787 0.0104058 41.5694 2.431e-05 45.8326Z" fill="#F79320"/>
                    </g>
                    <path d="M45.7166 54.0884C50.2519 54.0884 53.9284 50.4061 53.9284 45.8637C53.9284 41.3214 50.2519 37.639 45.7166 37.639C41.1814 37.639 37.5049 41.3214 37.5049 45.8637C37.5049 50.4061 41.1814 54.0884 45.7166 54.0884Z" fill="#F7F7F7"/>
                    <path d="M46.899 47.048V50.6306H44.5332V47.048H40.9562V44.6784H44.5332V41.0958H46.899V44.6784H50.476V47.048H46.899Z" fill="#F79320"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_865_10413">
                    <rect width="55" height="55" fill="white"/>
                    </clipPath>
                    </defs>
                </svg>

                <div class="flex flex-col gap-0">
                    <h3 class="relative top-[5px] text-[25px] font-semibold">New</h3>
                    <h3 class="ms-3 text-[25px] font-semibold">Branch</h3>
                </div>
            </div>
        </ng-template>
        <ng-template #modalBody>
            <form class="grid grid-cols-1 md:grid-cols-2 gap-4" [formGroup]="branchForm">
                <!-- Region -->
                <div>
                    <label for="RegionId" class="block mb-1 font-medium">Region Id</label>
                    <select id="RegionId" name="RegionId" formControlName="RegionId" (change)="onRegionsChange($event)" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mainColor">
                        <option value="" selected disabled>Select Region...</option>
                        @for(region of allRegions(); track $index){
                            <option [value]="region.id">{{region.title}}</option>
                        }
                    </select>
                </div>

                <!-- City -->
                <div>
                    <label for="CityId" class="block mb-1 font-medium">City</label>
                    <select id="CityId" name="CityId" formControlName="CityId"
                    class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mainColor">
                    <option value="" selected disabled>Select City...</option>
                    @for(city of allCities(); track $index){
                        <option [value]="city.id">{{city.name}}</option>
                    }
                    </select>
                </div>

                <!-- Phone Number -->
                <div>
                    <label for="PhoneNumber" class="block mb-1 font-medium">Phone Number</label>
                    <div class="flex items-center">
                    <span class="bg-gray-100 text-gray-800 px-4 py-2 rounded-l-md border border-r-0">+966</span>
                    <input id="PhoneNumber" type="tel" name="PhoneNumber" formControlName="PhoneNumber"
                        class="flex-1 border rounded-r-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mainColor"
                        placeholder="Phone...">
                    </div>
                </div>

                <!-- Address -->
                <div>
                    <label for="Address" class="block mb-1 font-medium">Address</label>
                    <input id="Address" name="Address" formControlName="Address"
                    class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mainColor"
                    placeholder="Address...">
                </div>

                <!-- Users -->
                <div class="md:col-span-2">
                    <label for="users" class="block mb-1 font-medium">Users</label>
                    <div class="flex gap-2">
                        <div formArrayName="UserIds" class="flex flex-col gap-2 w-full">
                            <div *ngFor="let user of users.controls; let i = index" class="flex gap-2 w-full">
                            <select name="users" id="users" class="form-select" [formControlName]="i">
                                <option value="" selected disabled>Select User...</option>
                                @for(user of allUsers();track $index){
                                    <option [value]="user.id">{{user.fullName}}</option>
                                }
                            </select>
                            @if(i > 0){
                                <span class="text-danger mt-2 cursor-pointer" (click)="removeUser(i)"><i class="fa-solid fa-minus"></i></span>
                            }
                            @if(users.controls.length == 1){
                                <span type="button" class="flex items-center justify-center rounded-full border border-mainColor w-[35px] h-[35px] cursor-pointer text-mainColor hover:bg-mainColor hover:text-white transition-all" (click)="addUser()"><i class="fa-solid fa-plus"></i></span>
                            }
                            </div>
                        </div>

                    </div>
                </div>
            </form>
        </ng-template>
        <ng-template #modalFooter>
            <!-- Save Button -->
            <app-btn-save (click)="submitBranchForm()"></app-btn-save>
        </ng-template>
    </ngx-custom-modal>

    <!-- Modal Add User -->
    <ngx-custom-modal #modal6 customClass="modal-top extra-large-modal">
        <ng-template #modalHeader>
            <div class="flex items-center gap-0">
                <icon-users class="h-16 w-16 text-mainColor" />
                <div class="flex flex-col gap-0">
                    <h3 class="relative top-[5px] text-[25px] font-semibold">New</h3>
                    <h3 class="ms-3 text-[25px] font-semibold">User</h3>
                </div>
            </div>
        </ng-template>
        <ng-template #modalBody>
            <form class="grid grid-cols-1 md:grid-cols-2 gap-4" [formGroup]="userForm" (ngSubmit)="submitUserForm()">
                <!-- Full Name -->
                <div class="md:col-span-2">
                    <label for="fullName" class="block mb-1 font-medium">Full Name</label>
                    <input type="text" name="fullName" id="fullName" formControlName="fullName"
                        class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mainColor"
                        placeholder="Full Name...">
                </div>

                <!-- Phone Number -->
                <div>
                    <label for="mobile" class="block mb-1 font-medium">Phone Number</label>
                    <div class="flex items-center">
                    <span class="bg-gray-100 text-gray-800 px-4 py-2 rounded-l-md border border-r-0">+966</span>
                    <input type="tel" name="mobile" id="mobile" formControlName="mobile"
                            class="flex-1 border rounded-r-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mainColor"
                            placeholder="Phone...">
                    </div>
                </div>

                <!-- Email -->
                <div>
                    <label for="email" class="block mb-1 font-medium">Email</label>
                    <input type="email" name="email" id="email" formControlName="email"
                        class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mainColor"
                        placeholder="Email...">
                </div>

                <!-- Roles -->
                <div class="md:col-span-2">
                    <label for="Roles" class="block mb-1 font-medium">Roles</label>
                    <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-2">
                        @for(role of allRoles(); track $index){
                            <div class="flex items-center gap-2">
                                <input type="checkbox" class="form-checkbox text-mainColor" (change)="toggleRoleSelection(role, $event)" id="{{role.name + $index}}">
                                <label [for]="role.name + $index" class="text-sm">{{role.name}}</label>
                            </div>
                        }
                    </div>
                </div>
            </form>

        </ng-template>
        <ng-template #modalFooter>
            <!-- Save Button -->
            <app-btn-save (click)="submitUserForm()"></app-btn-save>
        </ng-template>
    </ngx-custom-modal>
} @else if(role() == "Benzeny"){
    <section>
        <!-- Section Total Companies -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- Total Companies -->
            <div class="relative bg-white shadow text-mainColor h-full flex justify-between items-center rounded-2xl py-2 px-5">
                <div class="flex flex-col">
                    <p class="text-[#96a0b5] text-lg">Total Companies</p>
                    <h3 class="font-medium dark:text-[#fff] text-[#222] text-[20px]">{{ totalCompanies() }}</h3>
                </div>
                <div class="p-1 rounded-lg mt-4">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="#f79320" xmlns="http://www.w3.org/2000/svg" ><path d="M9.15833 0.795914H5.32499C4.05416 0.795914 2.83538 1.30075 1.93677 2.19936C1.03816 3.09797 0.533325 4.31675 0.533325 5.58758L0.533325 19.0042C0.533325 19.6335 0.657265 20.2566 0.898069 20.8379C1.13887 21.4193 1.49182 21.9475 1.93677 22.3925C2.83538 23.2911 4.05416 23.7959 5.32499 23.7959H13.95V5.58758C13.95 4.95833 13.8261 4.33524 13.5852 3.75389C13.3444 3.17254 12.9915 2.64431 12.5465 2.19936C12.1016 1.75441 11.5734 1.40146 10.992 1.16066C10.4107 0.919854 9.78758 0.795914 9.15833 0.795914ZM5.32499 19.0042H4.36666C4.11249 19.0042 3.86874 18.9033 3.68901 18.7236C3.50929 18.5438 3.40833 18.3001 3.40833 18.0459C3.40833 17.7917 3.50929 17.548 3.68901 17.3683C3.86874 17.1885 4.11249 17.0876 4.36666 17.0876H5.32499C5.57916 17.0876 5.82291 17.1885 6.00264 17.3683C6.18236 17.548 6.28333 17.7917 6.28333 18.0459C6.28333 18.3001 6.18236 18.5438 6.00264 18.7236C5.82291 18.9033 5.57916 19.0042 5.32499 19.0042ZM5.32499 15.1709H4.36666C4.11249 15.1709 3.86874 15.0699 3.68901 14.8902C3.50929 14.7105 3.40833 14.4667 3.40833 14.2126C3.40833 13.9584 3.50929 13.7147 3.68901 13.5349C3.86874 13.3552 4.11249 13.2542 4.36666 13.2542H5.32499C5.57916 13.2542 5.82291 13.3552 6.00264 13.5349C6.18236 13.7147 6.28333 13.9584 6.28333 14.2126C6.28333 14.4667 6.18236 14.7105 6.00264 14.8902C5.82291 15.0699 5.57916 15.1709 5.32499 15.1709ZM5.32499 11.3376H4.36666C4.11249 11.3376 3.86874 11.2366 3.68901 11.0569C3.50929 10.8772 3.40833 10.6334 3.40833 10.3792C3.40833 10.1251 3.50929 9.88133 3.68901 9.7016C3.86874 9.52188 4.11249 9.42091 4.36666 9.42091H5.32499C5.57916 9.42091 5.82291 9.52188 6.00264 9.7016C6.18236 9.88133 6.28333 10.1251 6.28333 10.3792C6.28333 10.6334 6.18236 10.8772 6.00264 11.0569C5.82291 11.2366 5.57916 11.3376 5.32499 11.3376ZM5.32499 7.50425H4.36666C4.11249 7.50425 3.86874 7.40328 3.68901 7.22356C3.50929 7.04384 3.40833 6.80008 3.40833 6.54591C3.40833 6.29175 3.50929 6.04799 3.68901 5.86827C3.86874 5.68855 4.11249 5.58758 4.36666 5.58758H5.32499C5.57916 5.58758 5.82291 5.68855 6.00264 5.86827C6.18236 6.04799 6.28333 6.29175 6.28333 6.54591C6.28333 6.80008 6.18236 7.04384 6.00264 7.22356C5.82291 7.40328 5.57916 7.50425 5.32499 7.50425ZM10.1167 19.0042H9.15833C8.90416 19.0042 8.6604 18.9033 8.48068 18.7236C8.30096 18.5438 8.19999 18.3001 8.19999 18.0459C8.19999 17.7917 8.30096 17.548 8.48068 17.3683C8.6604 17.1885 8.90416 17.0876 9.15833 17.0876H10.1167C10.3708 17.0876 10.6146 17.1885 10.7943 17.3683C10.974 17.548 11.075 17.7917 11.075 18.0459C11.075 18.3001 10.974 18.5438 10.7943 18.7236C10.6146 18.9033 10.3708 19.0042 10.1167 19.0042ZM10.1167 15.1709H9.15833C8.90416 15.1709 8.6604 15.0699 8.48068 14.8902C8.30096 14.7105 8.19999 14.4667 8.19999 14.2126C8.19999 13.9584 8.30096 13.7147 8.48068 13.5349C8.6604 13.3552 8.90416 13.2542 9.15833 13.2542H10.1167C10.3708 13.2542 10.6146 13.3552 10.7943 13.5349C10.974 13.7147 11.075 13.9584 11.075 14.2126C11.075 14.4667 10.974 14.7105 10.7943 14.8902C10.6146 15.0699 10.3708 15.1709 10.1167 15.1709ZM10.1167 11.3376H9.15833C8.90416 11.3376 8.6604 11.2366 8.48068 11.0569C8.30096 10.8772 8.19999 10.6334 8.19999 10.3792C8.19999 10.1251 8.30096 9.88133 8.48068 9.7016C8.6604 9.52188 8.90416 9.42091 9.15833 9.42091H10.1167C10.3708 9.42091 10.6146 9.52188 10.7943 9.7016C10.974 9.88133 11.075 10.1251 11.075 10.3792C11.075 10.6334 10.974 10.8772 10.7943 11.0569C10.6146 11.2366 10.3708 11.3376 10.1167 11.3376ZM10.1167 7.50425H9.15833C8.90416 7.50425 8.6604 7.40328 8.48068 7.22356C8.30096 7.04384 8.19999 6.80008 8.19999 6.54591C8.19999 6.29175 8.30096 6.04799 8.48068 5.86827C8.6604 5.68855 8.90416 5.58758 9.15833 5.58758H10.1167C10.3708 5.58758 10.6146 5.68855 10.7943 5.86827C10.974 6.04799 11.075 6.29175 11.075 6.54591C11.075 6.80008 10.974 7.04384 10.7943 7.22356C10.6146 7.40328 10.3708 7.50425 10.1167 7.50425ZM18.7417 5.58758H15.8667V23.7959H18.7417C20.012 23.7944 21.2299 23.2891 22.1282 22.3908C23.0265 21.4925 23.5318 20.2746 23.5333 19.0042V10.3792C23.5318 9.10888 23.0265 7.89099 22.1282 6.99271C21.2299 6.09443 20.012 5.5891 18.7417 5.58758ZM19.7 19.0042C19.5105 19.0042 19.3252 18.948 19.1676 18.8427C19.01 18.7374 18.8871 18.5878 18.8146 18.4127C18.7421 18.2375 18.7231 18.0448 18.7601 17.859C18.7971 17.6731 18.8883 17.5023 19.0223 17.3683C19.1564 17.2342 19.3271 17.143 19.513 17.106C19.6989 17.069 19.8916 17.088 20.0667 17.1605C20.2418 17.2331 20.3915 17.3559 20.4968 17.5135C20.6021 17.6711 20.6583 17.8564 20.6583 18.0459C20.6583 18.3001 20.5574 18.5438 20.3776 18.7236C20.1979 18.9033 19.9542 19.0042 19.7 19.0042ZM19.7 15.1709C19.5105 15.1709 19.3252 15.1147 19.1676 15.0094C19.01 14.9041 18.8871 14.7544 18.8146 14.5793C18.7421 14.4042 18.7231 14.2115 18.7601 14.0256C18.7971 13.8397 18.8883 13.669 19.0223 13.5349C19.1564 13.4009 19.3271 13.3096 19.513 13.2727C19.6989 13.2357 19.8916 13.2547 20.0667 13.3272C20.2418 13.3997 20.3915 13.5226 20.4968 13.6802C20.6021 13.8378 20.6583 14.023 20.6583 14.2126C20.6583 14.4667 20.5574 14.7105 20.3776 14.8902C20.1979 15.0699 19.9542 15.1709 19.7 15.1709ZM19.7 11.3376C19.5105 11.3376 19.3252 11.2814 19.1676 11.1761C19.01 11.0708 18.8871 10.9211 18.8146 10.746C18.7421 10.5709 18.7231 10.3782 18.7601 10.1923C18.7971 10.0064 18.8883 9.83563 19.0223 9.7016C19.1564 9.56758 19.3271 9.47631 19.513 9.43933C19.6989 9.40235 19.8916 9.42133 20.0667 9.49386C20.2418 9.5664 20.3915 9.68923 20.4968 9.84682C20.6021 10.0044 20.6583 10.1897 20.6583 10.3792C20.6583 10.6334 20.5574 10.8772 20.3776 11.0569C20.1979 11.2366 19.9542 11.3376 19.7 11.3376Z" class="ng-tns-c3466259212-3"></path></svg>
                </div>
                <img loading="lazy" src="assets/images/company-image/corner-img.png" class="absolute bottom-0 right-0 w-[130px] rounded-2xl h-full object-cover rounded-br-[10px] sepia-[3.5]" alt="" />
            </div>

            <!-- Active Companies -->
            <div class="relative bg-white shadow text-mainColor h-full flex justify-between items-center rounded-2xl py-2 px-5">
                <div class="flex flex-col">
                    <p class="text-[#96a0b5] text-lg">Active</p>
                    <h3 class="font-medium dark:text-[#fff] text-[#222] text-[20px]">{{ totalActiveCompanies() }}</h3>
                </div>
                <div class="p-1 rounded-lg mt-4">
                    <i class="fa-regular fa-circle-check text-[25px]"></i>
                </div>
                <img loading="lazy" src="assets/images/company-image/corner-img.png" class="absolute bottom-0 right-0 w-[130px] rounded-2xl h-full object-cover rounded-br-[10px] sepia-[3.5]" alt="" />
            </div>

            <!-- DeActive Companies -->
            <div class="relative bg-white shadow text-mainColor h-full flex justify-between items-center rounded-2xl py-2 px-5">
                <div class="flex flex-col">
                    <p class="text-[#96a0b5] text-lg">DeActive</p>
                    <h3 class="font-medium dark:text-[#fff] text-[#222] text-[20px]">{{ totalDeActiveCompanies() }}</h3>
                </div>
                <div class="p-1 rounded-lg mt-4">
                    <i class="fa-regular fa-circle-xmark text-[25px]"></i>
                </div>
                <img loading="lazy" src="assets/images/company-image/corner-img.png" class="absolute bottom-0 right-0 w-[130px] rounded-2xl h-full object-cover rounded-br-[10px] sepia-[3.5]" alt="" />
            </div>
        </div>

        <!-- Table Company -->
        <div class="panel shadow-none mt-6 pb-0">
            <!-- Title Table -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
                <div class="flex items-center gap-2">
                    <svg width="38" height="38" viewBox="0 0 24 24" fill="#f79320" xmlns="http://www.w3.org/2000/svg" ><path d="M9.15833 0.795914H5.32499C4.05416 0.795914 2.83538 1.30075 1.93677 2.19936C1.03816 3.09797 0.533325 4.31675 0.533325 5.58758L0.533325 19.0042C0.533325 19.6335 0.657265 20.2566 0.898069 20.8379C1.13887 21.4193 1.49182 21.9475 1.93677 22.3925C2.83538 23.2911 4.05416 23.7959 5.32499 23.7959H13.95V5.58758C13.95 4.95833 13.8261 4.33524 13.5852 3.75389C13.3444 3.17254 12.9915 2.64431 12.5465 2.19936C12.1016 1.75441 11.5734 1.40146 10.992 1.16066C10.4107 0.919854 9.78758 0.795914 9.15833 0.795914ZM5.32499 19.0042H4.36666C4.11249 19.0042 3.86874 18.9033 3.68901 18.7236C3.50929 18.5438 3.40833 18.3001 3.40833 18.0459C3.40833 17.7917 3.50929 17.548 3.68901 17.3683C3.86874 17.1885 4.11249 17.0876 4.36666 17.0876H5.32499C5.57916 17.0876 5.82291 17.1885 6.00264 17.3683C6.18236 17.548 6.28333 17.7917 6.28333 18.0459C6.28333 18.3001 6.18236 18.5438 6.00264 18.7236C5.82291 18.9033 5.57916 19.0042 5.32499 19.0042ZM5.32499 15.1709H4.36666C4.11249 15.1709 3.86874 15.0699 3.68901 14.8902C3.50929 14.7105 3.40833 14.4667 3.40833 14.2126C3.40833 13.9584 3.50929 13.7147 3.68901 13.5349C3.86874 13.3552 4.11249 13.2542 4.36666 13.2542H5.32499C5.57916 13.2542 5.82291 13.3552 6.00264 13.5349C6.18236 13.7147 6.28333 13.9584 6.28333 14.2126C6.28333 14.4667 6.18236 14.7105 6.00264 14.8902C5.82291 15.0699 5.57916 15.1709 5.32499 15.1709ZM5.32499 11.3376H4.36666C4.11249 11.3376 3.86874 11.2366 3.68901 11.0569C3.50929 10.8772 3.40833 10.6334 3.40833 10.3792C3.40833 10.1251 3.50929 9.88133 3.68901 9.7016C3.86874 9.52188 4.11249 9.42091 4.36666 9.42091H5.32499C5.57916 9.42091 5.82291 9.52188 6.00264 9.7016C6.18236 9.88133 6.28333 10.1251 6.28333 10.3792C6.28333 10.6334 6.18236 10.8772 6.00264 11.0569C5.82291 11.2366 5.57916 11.3376 5.32499 11.3376ZM5.32499 7.50425H4.36666C4.11249 7.50425 3.86874 7.40328 3.68901 7.22356C3.50929 7.04384 3.40833 6.80008 3.40833 6.54591C3.40833 6.29175 3.50929 6.04799 3.68901 5.86827C3.86874 5.68855 4.11249 5.58758 4.36666 5.58758H5.32499C5.57916 5.58758 5.82291 5.68855 6.00264 5.86827C6.18236 6.04799 6.28333 6.29175 6.28333 6.54591C6.28333 6.80008 6.18236 7.04384 6.00264 7.22356C5.82291 7.40328 5.57916 7.50425 5.32499 7.50425ZM10.1167 19.0042H9.15833C8.90416 19.0042 8.6604 18.9033 8.48068 18.7236C8.30096 18.5438 8.19999 18.3001 8.19999 18.0459C8.19999 17.7917 8.30096 17.548 8.48068 17.3683C8.6604 17.1885 8.90416 17.0876 9.15833 17.0876H10.1167C10.3708 17.0876 10.6146 17.1885 10.7943 17.3683C10.974 17.548 11.075 17.7917 11.075 18.0459C11.075 18.3001 10.974 18.5438 10.7943 18.7236C10.6146 18.9033 10.3708 19.0042 10.1167 19.0042ZM10.1167 15.1709H9.15833C8.90416 15.1709 8.6604 15.0699 8.48068 14.8902C8.30096 14.7105 8.19999 14.4667 8.19999 14.2126C8.19999 13.9584 8.30096 13.7147 8.48068 13.5349C8.6604 13.3552 8.90416 13.2542 9.15833 13.2542H10.1167C10.3708 13.2542 10.6146 13.3552 10.7943 13.5349C10.974 13.7147 11.075 13.9584 11.075 14.2126C11.075 14.4667 10.974 14.7105 10.7943 14.8902C10.6146 15.0699 10.3708 15.1709 10.1167 15.1709ZM10.1167 11.3376H9.15833C8.90416 11.3376 8.6604 11.2366 8.48068 11.0569C8.30096 10.8772 8.19999 10.6334 8.19999 10.3792C8.19999 10.1251 8.30096 9.88133 8.48068 9.7016C8.6604 9.52188 8.90416 9.42091 9.15833 9.42091H10.1167C10.3708 9.42091 10.6146 9.52188 10.7943 9.7016C10.974 9.88133 11.075 10.1251 11.075 10.3792C11.075 10.6334 10.974 10.8772 10.7943 11.0569C10.6146 11.2366 10.3708 11.3376 10.1167 11.3376ZM10.1167 7.50425H9.15833C8.90416 7.50425 8.6604 7.40328 8.48068 7.22356C8.30096 7.04384 8.19999 6.80008 8.19999 6.54591C8.19999 6.29175 8.30096 6.04799 8.48068 5.86827C8.6604 5.68855 8.90416 5.58758 9.15833 5.58758H10.1167C10.3708 5.58758 10.6146 5.68855 10.7943 5.86827C10.974 6.04799 11.075 6.29175 11.075 6.54591C11.075 6.80008 10.974 7.04384 10.7943 7.22356C10.6146 7.40328 10.3708 7.50425 10.1167 7.50425ZM18.7417 5.58758H15.8667V23.7959H18.7417C20.012 23.7944 21.2299 23.2891 22.1282 22.3908C23.0265 21.4925 23.5318 20.2746 23.5333 19.0042V10.3792C23.5318 9.10888 23.0265 7.89099 22.1282 6.99271C21.2299 6.09443 20.012 5.5891 18.7417 5.58758ZM19.7 19.0042C19.5105 19.0042 19.3252 18.948 19.1676 18.8427C19.01 18.7374 18.8871 18.5878 18.8146 18.4127C18.7421 18.2375 18.7231 18.0448 18.7601 17.859C18.7971 17.6731 18.8883 17.5023 19.0223 17.3683C19.1564 17.2342 19.3271 17.143 19.513 17.106C19.6989 17.069 19.8916 17.088 20.0667 17.1605C20.2418 17.2331 20.3915 17.3559 20.4968 17.5135C20.6021 17.6711 20.6583 17.8564 20.6583 18.0459C20.6583 18.3001 20.5574 18.5438 20.3776 18.7236C20.1979 18.9033 19.9542 19.0042 19.7 19.0042ZM19.7 15.1709C19.5105 15.1709 19.3252 15.1147 19.1676 15.0094C19.01 14.9041 18.8871 14.7544 18.8146 14.5793C18.7421 14.4042 18.7231 14.2115 18.7601 14.0256C18.7971 13.8397 18.8883 13.669 19.0223 13.5349C19.1564 13.4009 19.3271 13.3096 19.513 13.2727C19.6989 13.2357 19.8916 13.2547 20.0667 13.3272C20.2418 13.3997 20.3915 13.5226 20.4968 13.6802C20.6021 13.8378 20.6583 14.023 20.6583 14.2126C20.6583 14.4667 20.5574 14.7105 20.3776 14.8902C20.1979 15.0699 19.9542 15.1709 19.7 15.1709ZM19.7 11.3376C19.5105 11.3376 19.3252 11.2814 19.1676 11.1761C19.01 11.0708 18.8871 10.9211 18.8146 10.746C18.7421 10.5709 18.7231 10.3782 18.7601 10.1923C18.7971 10.0064 18.8883 9.83563 19.0223 9.7016C19.1564 9.56758 19.3271 9.47631 19.513 9.43933C19.6989 9.40235 19.8916 9.42133 20.0667 9.49386C20.2418 9.5664 20.3915 9.68923 20.4968 9.84682C20.6021 10.0044 20.6583 10.1897 20.6583 10.3792C20.6583 10.6334 20.5574 10.8772 20.3776 11.0569C20.1979 11.2366 19.9542 11.3376 19.7 11.3376Z" class="ng-tns-c3466259212-3"></path></svg>
                    <div class="flex flex-col gap-0">
                        <h3 class="relative top-[-2px] text-[25px] font-semibold">All</h3>
                        <h3 class="ms-3 text-[25px] font-semibold">Companies</h3>
                    </div>
                </div>
                <!-- Search Input -->
                <div class="flex items-center justify-end gap-3">
                    <input (input)="searchCompany($event)" type="text" class="form-input w-[250px] border rounded-full focus:outline-none focus:border-[#F79320] transition-all py-1" placeholder="Search..." />
                        <div class="flex flex-wrap gap-3 tems-center">
                        <!-- Print Button -->
                        <div class="flex items-center" ngxTippy="Print" (click)="exportTable('print')">
                            <icon-printer class="text-mainColor h-6 w-6 cursor-pointer hover:scale-110 transition" />
                        </div>

                        <!-- Excel Button -->
                        <div class="flex items-center">
                            <i ngxTippy="Excel" class="text-mainColor fa-solid fa-file-excel text-xl cursor-pointer hover:scale-110 transition" (click)="exportTable('csv')"></i>
                        </div>

                        <!-- PDF Button -->
                        <div class="flex items-center">
                            <i ngxTippy="PDF" class="text-mainColor fa-solid fa-file-pdf text-xl cursor-pointer hover:scale-110 transition" (click)="downloadPdf()"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="datatable">
                <ng-datatable
                    #table
                    [rows]="allCompanies()"
                    [columns]="cols"
                    [totalRows]="totalCompanies()"
                    [sortable]="true"
                    [pageSize]="pageSize"
                    (pageChange)="onPageChangeCompany($event)"
                    (pageSizeChange)="onPageSizeChangeCompany($event)"
                    sortColumn="companyName"
                    skin="whitespace-nowrap table-hover"
                    firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"><path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>'
                    lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"><path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>'
                    previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"><path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>'
                    nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"><path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>'>

                    <!-- Logo -->
                    <ng-template slot="profilePicturePath" let-value="data">
                        <div class="flex items-center gap-2">
                            <img [src]="value.profilePicturePath" class="w-[80px]" [alt]="value.name">
                        </div>
                    </ng-template>


                <!-- Activation -->
                    <ng-template slot="isActive" let-value="data">
                        <div class="flex items-center gap-2">
                            <span
                            (click)="switchActiveCompany(value.id)"
                            class="border px-4 rounded-lg cursor-pointer"
                            [ngClass]="{
                                'border-green-400 text-green-400': value.isActive,
                                'border-red-400 text-red-400': !value.isActive
                            }"
                            >
                            {{ value.isActive ? 'Active' : 'DeActive' }}
                            </span>
                        </div>
                    </ng-template>

                    <!-- Actions -->
                    <ng-template slot="action" let-value="data">
                        <div class="flex items-center gap-1">
                            <button type="button" class="ltr:mr-2 rtl:ml-2" ngxTippy="View" [routerLink]="'/company-dashboard/' + value.id">
                                <icon-info-hexagon />
                            </button>
                            <button type="button" class="ltr:mr-2 rtl:ml-2" ngxTippy="Delete" (click)="deleteCompany(value.id)">
                                <icon-trash-lines />
                            </button>
                        </div>
                    </ng-template>

                </ng-datatable>
            </div>
        </div>
    </section>
}

